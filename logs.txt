on the kodi machine:
kodi:~ # cat /usr/bin/sudo 
#!/bin/sh

# SPDX-License-Identifier: GPL-2.0-or-later
# Copyright (C) 2009-2014 Stephan Raue (stephan@openelec.tv)

message="$message\n There is no working 'sudo'."
message="$message\n "
message="$message\n On debian/ubuntu/all general purpose linux distributions 'sudo'"
message="$message\n allows a permitted user to execute a command as the superuser"
message="$message\n or another user, as specified by the security policy"
message="$message\n "
message="$message\n With LibreELEC you have root access by default, so you dont need 'sudo'"
message="$message\n "

echo -e $message

exit 1


logs from the build machine
joop@AMD-mint:~/kiro/drm-vc4-grabber$ ./build.sh --cross --deploy root@192.168.2.2  --musl
[11:58:58] INFO: Starting DRM VC4 Grabber build process
[11:58:58] INFO: Deployment requested - enabling cross-compilation
[11:58:58] INFO: Checking Rust installation...
[11:58:58] SUCCESS: Rust installation found (rustup managed)
[11:58:58] INFO: Rust version: rustc 1.91.1 (ed61e7d7e 2025-11-07)
[11:58:58] INFO: Cargo version: cargo 1.91.1 (ea2d97820 2025-10-10)
[11:58:58] INFO: Rust location: /usr/bin/rustc
[11:58:58] INFO: Setting up cross-compilation for aarch64-unknown-linux-musl...
[11:58:58] INFO: Using rustup - installing target: aarch64-unknown-linux-musl
info: component 'rust-std' for target 'aarch64-unknown-linux-musl' is up to date
[11:58:58] SUCCESS: Cross-compilation setup complete
[11:58:58] INFO: Building project...
[11:58:58] INFO: Running: cargo build --release --target aarch64-unknown-linux-musl
warning: creating a shared reference to mutable static
   --> src/main.rs:122:36
    |
122 | ...                   if LAST_FALLBACK_LOG.is_none() || 
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^ shared reference to mutable static
    |
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>
    = note: shared references to mutable statics are dangerous; it's undefined behavior if the static is mutated or if a mutable reference is created for it while the shared reference lives
    = note: `#[warn(static_mut_refs)]` (part of `#[warn(rust_2024_compatibility)]`) on by default

warning: creating a shared reference to mutable static
   --> src/main.rs:420:24
    |
420 |                     if LAST_STATS_LOG.is_none() || 
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^ shared reference to mutable static
    |
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>
    = note: shared references to mutable statics are dangerous; it's undefined behavior if the static is mutated or if a mutable reference is created for it while the shared reference lives

warning: creating a shared reference to mutable static
   --> src/main.rs:434:25
    |
434 |                        (LAST_RECOVERY_CHECK.is_none() || 
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ shared reference to mutable static
    |
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>
    = note: shared references to mutable statics are dangerous; it's undefined behavior if the static is mutated or if a mutable reference is created for it while the shared reference lives

warning: hiding a lifetime that's elided elsewhere is confusing
   --> src/hyperion_reply_generated.rs:151:27
    |
151 | pub fn root_as_reply(buf: &[u8]) -> Result<Reply, flatbuffers::InvalidFlatbuffer> {
    |                           ^^^^^            ^^^^^ the same lifetime is hidden here
    |                           |
    |                           the lifetime is elided here
    |
    = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
    = note: `#[warn(mismatched_lifetime_syntaxes)]` on by default
help: use `'_` for type paths
    |
151 | pub fn root_as_reply(buf: &[u8]) -> Result<Reply<'_>, flatbuffers::InvalidFlatbuffer> {
    |                                                 ++++

warning: hiding a lifetime that's elided elsewhere is confusing
   --> src/hyperion_reply_generated.rs:161:41
    |
161 | pub fn size_prefixed_root_as_reply(buf: &[u8]) -> Result<Reply, flatbuffers::InvalidFlatbuffer> {
    |                                         ^^^^^            ^^^^^ the same lifetime is hidden here
    |                                         |
    |                                         the lifetime is elided here
    |
    = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
    |
161 | pub fn size_prefixed_root_as_reply(buf: &[u8]) -> Result<Reply<'_>, flatbuffers::InvalidFlatbuffer> {
    |                                                               ++++

warning: hiding a lifetime that's elided elsewhere is confusing
   --> src/hyperion_reply_generated.rs:194:44
    |
194 | pub unsafe fn root_as_reply_unchecked(buf: &[u8]) -> Reply {
    |                                            ^^^^^     ^^^^^ the same lifetime is hidden here
    |                                            |
    |                                            the lifetime is elided here
    |
    = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
    |
194 | pub unsafe fn root_as_reply_unchecked(buf: &[u8]) -> Reply<'_> {
    |                                                           ++++

warning: hiding a lifetime that's elided elsewhere is confusing
   --> src/hyperion_reply_generated.rs:201:58
    |
201 | pub unsafe fn size_prefixed_root_as_reply_unchecked(buf: &[u8]) -> Reply {
    |                                                          ^^^^^     ^^^^^ the same lifetime is hidden here
    |                                                          |
    |                                                          the lifetime is elided here
    |
    = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
    |
201 | pub unsafe fn size_prefixed_root_as_reply_unchecked(buf: &[u8]) -> Reply<'_> {
    |                                                                         ++++

warning: hiding a lifetime that's elided elsewhere is confusing
   --> src/hyperion_request_generated.rs:980:29
    |
980 | pub fn root_as_request(buf: &[u8]) -> Result<Request, flatbuffers::InvalidFlatbuffer> {
    |                             ^^^^^            ^^^^^^^ the same lifetime is hidden here
    |                             |
    |                             the lifetime is elided here
    |
    = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
    |
980 | pub fn root_as_request(buf: &[u8]) -> Result<Request<'_>, flatbuffers::InvalidFlatbuffer> {
    |                                                     ++++

warning: hiding a lifetime that's elided elsewhere is confusing
   --> src/hyperion_request_generated.rs:990:43
    |
990 | pub fn size_prefixed_root_as_request(buf: &[u8]) -> Result<Request, flatbuffers::InvalidFlatbuffer> {
    |                                           ^^^^^            ^^^^^^^ the same lifetime is hidden here
    |                                           |
    |                                           the lifetime is elided here
    |
    = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
    |
990 | pub fn size_prefixed_root_as_request(buf: &[u8]) -> Result<Request<'_>, flatbuffers::InvalidFlatbuffer> {
    |                                                                   ++++

warning: hiding a lifetime that's elided elsewhere is confusing
    --> src/hyperion_request_generated.rs:1023:46
     |
1023 | pub unsafe fn root_as_request_unchecked(buf: &[u8]) -> Request {
     |                                              ^^^^^     ^^^^^^^ the same lifetime is hidden here
     |                                              |
     |                                              the lifetime is elided here
     |
     = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
     |
1023 | pub unsafe fn root_as_request_unchecked(buf: &[u8]) -> Request<'_> {
     |                                                               ++++

warning: hiding a lifetime that's elided elsewhere is confusing
    --> src/hyperion_request_generated.rs:1030:60
     |
1030 | pub unsafe fn size_prefixed_root_as_request_unchecked(buf: &[u8]) -> Request {
     |                                                            ^^^^^     ^^^^^^^ the same lifetime is hidden here
     |                                                            |
     |                                                            the lifetime is elided here
     |
     = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
     |
1030 | pub unsafe fn size_prefixed_root_as_request_unchecked(buf: &[u8]) -> Request<'_> {
     |                                                                             ++++

warning: `drm-vc4-grabber` (bin "drm-vc4-grabber") generated 11 warnings (run `cargo fix --bin "drm-vc4-grabber"` to apply 8 suggestions)
    Finished `release` profile [optimized] target(s) in 0.13s
[11:58:58] SUCCESS: Build completed successfully
[11:58:58] INFO: Build information:
[11:58:58] SUCCESS: Binary created: target/aarch64-unknown-linux-musl/release/drm-vc4-grabber
[11:58:58] INFO: Binary size: 1,9M
[11:58:58] INFO: Binary info: target/aarch64-unknown-linux-musl/release/drm-vc4-grabber: ELF 64-bit LSB executable, ARM aarch64, version 1 (SYSV), statically linked, BuildID[sha1]=c54fe98104bf7aa2d92433882988bfd26ea85127, not stripped
[11:58:58] INFO: Deploying to Raspberry Pi...
[11:58:58] INFO: Running deployment with: ./deploy.sh root@192.168.2.2 --pi-path /storage/drm-vc4-grabber
[11:58:58] INFO: Starting deployment to Raspberry Pi
[11:58:58] INFO: Deploying to Raspberry Pi: root@192.168.2.2
[11:58:58] INFO: Binary: target/aarch64-unknown-linux-musl/release/drm-vc4-grabber -> /storage/drm-vc4-grabber
[11:58:58] INFO: Detecting target system...
[11:58:59] INFO: Target system has sudo
[11:58:59] INFO: Stopping existing grabber process on Pi...
[11:58:59] WARNING: Could not stop existing process (may not be running)
[11:58:59] INFO: Ensuring target directory exists: /storage
[11:58:59] INFO: Copying binary to Pi...
drm-vc4-grabber                                                                     100% 1889KB 127.4MB/s   00:00    
[11:58:59] INFO: Copying monitoring and diagnostic scripts...
scp: stat local "monitor_kodi_log.sh": No such file or directory

